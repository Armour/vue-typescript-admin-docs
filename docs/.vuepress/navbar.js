const navbar = {
  ecosystem: [
    {
      'text-en': 'Repositories',
      'text-zh': '项目',
      items: [
        {
          'text-en': 'vue-typescript-admin-template',
          link: 'https://github.com/Armour/vue-typescript-admin-template'
        },
        {
          'text-en': 'vue-typescript-admin-mock-server',
          link: 'https://github.com/Armour/vue-typescript-admin-mock-server'
        },
        {
          'text-en': 'vue-element-admin',
          link: 'https://github.com/PanJiaChen/vue-element-admin'
        },
        {
          'text-en': 'vue-admin-template',
          link: 'https://github.com/PanJiaChen/vue-admin-template'
        },
        {
          'text-en': 'electron-vue-admin',
          link: 'https://github.com/PanJiaChen/electron-vue-admin'
        },
      ]
    },
    {
      'text-en': 'Help',
      'text-zh': '帮助',
      items: [
        {
          'text-en': 'FAQ',
          'text-zh': '常见问题',
          link: '/guide/other/faq',
        },
        {
          'text-en': 'Wechat Group',
          'text-zh': '微信群',
          link: 'https://github.com/Armour/vue-typescript-admin-template/issues/62',
        }
      ]
    }
  ],
  features: [
    {
      'text-en': 'Component',
      'text-zh': '组件',
      items: [
        {
          'text-en': 'Avatar Upload',
          'text-zh': '头像上传',
          link: '/features/components/avatar-upload'
        },
        {
          'text-en': 'Back To Top',
          'text-zh': '返回顶部',
          link: '/features/components/back-to-top'
        },
        {
          'text-en': 'Breadcrumb',
          'text-zh': '面包屑导航',
          link: '/features/components/breadcrumb'
        },
        {
          'text-en': 'Charts',
          'text-zh': '图表',
          link: '/features/components/charts'
        },
        {
          'text-en': 'Draggable Kanban',
          'text-zh': '可拖拽看板',
          link: '/features/components/draggable-kanban'
        },
        {
          'text-en': 'Draggable List',
          'text-zh': '可拖拽列表',
          link: '/features/components/draggable-list'
        },
        {
          'text-en': 'Draggable Select',
          'text-zh': '可拖拽选择',
          link: '/features/components/draggable-select'
        },
        {
          'text-en': 'Draggable Menu',
          'text-zh': '可拖拽菜单',
          link: '/features/components/draggable-menu'
        },
        {
          'text-en': 'Dropzone',
          'text-zh': 'Dropzone',
          link: '/features/components/dropzone'
        },
        {
          'text-en': 'Error Log',
          'text-zh': '错误日志',
          link: '/features/components/error-log'
        },
        {
          'text-en': 'Github Corner',
          'text-zh': 'Github 挂角链接',
          link: '/features/components/github-corner'
        },
        {
          'text-en': 'Hamburger',
          'text-zh': '汉堡包图标',
          link: '/features/components/hamburger'
        },
        {
          'text-en': 'Header Search',
          'text-zh': '搜索栏',
          link: '/features/components/header-search'
        },
        {
          'text-en': 'Json Editor',
          'text-zh': 'Json 编辑器',
          link: '/features/components/json-editor'
        },
        {
          'text-en': 'Language Select',
          'text-zh': '语言选择',
          link: '/features/components/lang-select'
        },
        {
          'text-en': 'Markdown Editor',
          'text-zh': 'Markdown 编辑器',
          link: '/features/components/markdown-editor'
        },
        {
          'text-en': 'Material Input',
          'text-zh': 'Meterial 输入',
          link: '/features/components/material-input'
        },
        {
          'text-en': 'Pagination',
          'text-zh': '分页',
          link: '/features/components/pagination'
        },
        {
          'text-en': 'Pan Thumb',
          'text-zh': 'Pan Thumb',
          link: '/features/components/pan-thumb'
        },
        {
          'text-en': 'Rich Text Editor',
          'text-zh': '富文本',
          link: '/features/components/rich-editor'
        },
        {
          'text-en': 'Right Panel',
          'text-zh': '右侧边栏',
          link: '/features/components/right-panel'
        },
        {
          'text-en': 'Screenfull',
          'text-zh': '全屏化',
          link: '/features/components/screenfull'
        },
        {
          'text-en': 'Size Select',
          'text-zh': '字体大小选择',
          link: '/features/components/size-select'
        },
        {
          'text-en': 'Sticky',
          'text-zh': 'Sticky',
          link: '/features/components/sticky'
        },
        {
          'text-en': 'Text Hover Effect',
          'text-zh': '文字悬停效果',
          link: '/features/components/text-hover-effect'
        },
        {
          'text-en': 'Theme Picker',
          'text-zh': '主题选择',
          link: '/features/components/theme-picker'
        },
        {
          'text-en': 'Upload Excel',
          'text-zh': '上传Excel',
          link: '/features/components/upload-excel'
        },
        {
          'text-en': 'Upload Image',
          'text-zh': '上传图片',
          link: '/features/components/upload-image'
        }
      ]
    },
    // {
    //   'text-en': 'Pages',
    //   'text-zh': '展示页面',
    //   items: [
    //   ]
    // },
    {
      'text-en': 'Directives',
      'text-zh': '指令',
      items: [
        {
          'text-en': 'Clipboard',
          'text-zh': '粘贴板',
          link: '/features/directives/clipboard'
        },
        {
          'text-en': 'Draggable Dialog',
          'text-zh': '可拖拽对话框',
          link: '/features/directives/draggable-dialog'
        },
        {
          'text-en': 'Permission',
          'text-zh': '权限',
          link: '/features/directives/permission'
        },
        {
          'text-en': 'Waves',
          'text-zh': '波纹特效',
          link: '/features/directives/waves'
        }
      ]
    },
    {
      'text-en': 'Icons',
      'text-zh': '图标',
      items: [
        {
          'text-en': 'Svg Icons',
          'text-zh': 'svg 图标',
          link: '/features/icons/svg-icons'
        }
      ]
    },
    {
      'text-en': 'PWA',
      'text-zh': 'PWA',
      items: [
        {
          'text-en': 'PWA update popup',
          'text-zh': 'PWA 自动更新弹窗',
          link: '/features/pwa/service-worker-update-popup'
        }
      ]
    }
  ]
}

function getNavbarByCategory(category, lang = 'en') {
  const items = JSON.parse(JSON.stringify(navbar[category])) // Deep clone
  return filterNavbarItems(items, lang)
}

function filterNavbarItems(items, lang = 'en') {
  return items.filter(v => {
    if (v[`text-${lang}`]) {
      v.text = v[`text-${lang}`]
    } else {
      v.text = v['text-en']
    }
    if (lang != 'en' && v.link && v.link.startsWith('/')) {
      v.link = `/${lang}${v.link}`
    }
    if (v.items && v.items.length > 0) {
      v.items = filterNavbarItems(v.items, lang)
    }
    return v
  })
}

module.exports = {
  getNavbarByCategory
}
